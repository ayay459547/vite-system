import{v as Z}from"./vendor-element-plus.v2025-11-12.1.production.2025-11-14_09.15.33.js";import{a as k,m as y,u as I,s as q,C as w,b as ee,c as R,e as te,f as $,o as j,i as ae}from"./index.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-sweetalert2.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-crypto-js.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-js-cookie.v2025-11-12.1.production.2025-11-14_09.15.33.js";import{_ as U}from"./vendor-vue-qr.v2025-11-12.1.production.2025-11-14_09.15.33.js";import{u as se,C as oe}from"./CustomTable.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vuedraggable.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-exceljs.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-jspdf.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-jspdf-autotable.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-dayjs.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vxe-table.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vxe-pc-ui.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@fortawesome/vue-fontawesome.v2025-11-12.1.production.2025-11-14_09.15.33.js";import{d as L,c as P,o as E,g as u,ae as b,s as z,i as re,f as le,aP as ne,aN as x,a as B}from"./vendor-@vue/runtime-core.v2025-11-12.1.production.2025-11-14_09.15.33.js";import{y as e,x as v,j as ie,u as de}from"./vendor-@vue/reactivity.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@vue/runtime-dom.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@dagrejs/dagre.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@vue/shared.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@element-plus/icons-vue.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-lodash-es.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@ctrl/tinycolor.v2025-11-12.1.production.2025-11-14_09.15.33.js";/* empty css                                                                  */import"./vendor-async-validator.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-normalize-wheel-es.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-memoize-one.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@codemirror/language-data.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-idb.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-uuid.v2025-11-12.1.production.2025-11-14_09.15.33.js";/* empty css                                                                */import"./vendor-@vueuse/shared.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-pinia.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vue-i18n.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@intlify/core-base.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@intlify/shared.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vue.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@vue/compiler-dom.v2025-11-12.1.production.2025-11-14_09.15.33.js";/* empty css                                                                      */import"./vendor-axios.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-vue-router.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-ifvisible.js.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-interactjs.v2025-11-12.1.production.2025-11-14_09.15.33.js";/* empty css                                                                */import"./vendor-xe-utils.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-dom-zindex.v2025-11-12.1.production.2025-11-14_09.15.33.js";/* empty css                                                                *//* empty css                                                                  *//* empty css                                                                      *//* empty css                                                                     *//* empty css                                                                          *//* empty css                                                                                     */import"./vendor-@fortawesome/free-solid-svg-icons.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@fortawesome/free-regular-svg-icons.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@fortawesome/free-brands-svg-icons.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@vueuse/components.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-js-binary-schema-parser.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-sortablejs.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-@babel/runtime.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-fflate.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-fast-png.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-iobuffer.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./vendor-pako.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./CustomPopover.vue_vue_type_script_setup_true_lang.v2025-11-12.1.production.2025-11-14_09.15.33.js";import"./CustomDraggable.v2025-11-12.1.production.2025-11-14_09.15.33.js";const O=[{id:1,date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles",state:"success",city:"city1"},{id:2,date:"2016-05-02",name:"Caleb",address:"No. 189, Grove St, Los Angeles",state:"success",city:"city1",children:[{id:21,date:"2016-05-02",name:"Caleb2",address:"No. 189, Grove St, Los Angeles",state:"success",city:"city1"},{id:22,date:"2016-05-02",name:"Caleb3",address:"No. 189, Grove St, Los Angeles"}]},{id:3,date:"2016-05-04",name:"Peter",address:"No. 189, Grove St, Los Angeles",state:"success",city:"city1"},{id:4,date:"2016-05-01",name:"Amy",address:"address-1"}],ue=async n=>{const{page:r=1,size:a=100,sort:t={key:null,order:null}}=n,d=await k({url:"/page/getData",method:"get",data:{page:r,size:a,sort:t}},{isFakeData:!0,fakeData:{data:O,status:"success"},delay:300}),{status:f,msg:l,data:o}=d;return f==="success"?o:(y({type:"error",message:l??"getData Error",duration:1e4}),[])},ce=async n=>{const{page:r=1,size:a=100,sort:t={key:null,order:null}}=n,d=await k({url:"/page/getData",method:"get",data:{page:r,size:a,sort:t}},{isFakeData:!0,fakeData:{data:O,status:"success"},delay:300}),{status:f,msg:l,data:o}=d;return f==="success"?o:(y({type:"error",message:l??"getData Error",duration:1e4}),[])},me=async()=>{const n=await k({url:"/page/getDataCount",method:"get",data:{}},{isFakeData:!0,fakeData:{data:1e3,status:"success"},delay:300}),{status:r,msg:a,data:t}=n;return r==="success"?t:(y({type:"error",message:a??"getData Error",duration:1e4}),0)},pe=async n=>{await new Promise(r=>{console.log("delete id => ",n.id),setTimeout(()=>{r("delete success")},1e3)})},A={name:{label:"姓名",table:{width:150},form:{type:"text",default:null,validate:[],required:!0}},date:{label:"生日",table:{width:150,align:"center"},form:{type:"date",default:null,validate:[],required:!0}},address:{label:"地址",table:{minWidth:300},form:{type:"select",default:"",required:!1,options:[{label:"address-1-No. 189, Grove St, Los Angeles",value:"address-1"},{label:"address-2-No. 177, Grove St, Los Angeles",value:"address-2"},{label:"address-3-No. 123, Grove St, Los Angeles",value:"address-3"}]}},test:{label:"多欄測試",table:{isSorting:!1,children:{state:{label:"狀態",width:160,align:"center",isSorting:!1},city:{label:"城市",width:250,align:"left",isSorting:!1}}}},operations:{label:"操作",i18nLabel:"operationCommands",table:{width:60,align:"center",fixed:"right",isOperations:!0}}},fe=async n=>{const r=await k({url:"/page/create",method:"post",data:n},{isFakeData:!0,fakeData:{data:5,status:"success"},delay:300}),{status:a,msg:t,data:d}=r;return a==="success"?(y({type:"success",message:t??"Create Success",duration:1e4}),d):(y({type:"error",message:t??"Create Error",duration:1e4}),0)},ge=async n=>{const r=await k({url:"/page1/update",method:"post",data:n},{isFakeData:!0,fakeData:{data:2,status:"success"},delay:300}),{status:a,msg:t,data:d}=r;return a==="success"?(y({type:"success",message:t??"Update Success",duration:1e4}),d):(y({type:"error",message:t??"Update Error",duration:1e4}),0)},ve={class:"create grid-row"},be=L({__name:"CreateModal",setup(n,{expose:r}){const{columns:a,forms:t,validate:d}=I(A,"form");return r({submit:async()=>await d().then(async()=>await fe(t)>0?"success":"error").catch(f=>{const l=f.find(o=>o.el!==null);if(l){const o=l.getDom();q(o)}return"error"})}),(f,l)=>(E(),P("div",ve,[u(e(w),b({class:"grid-col-xs-24 grid-col-md-12",modelValue:e(t).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(t).name=o)},e(a).name),null,16,["modelValue"]),u(e(w),b({class:"grid-col-xs-24 grid-col-md-12",modelValue:e(t).date,"onUpdate:modelValue":l[1]||(l[1]=o=>e(t).date=o)},e(a).date),null,16,["modelValue"]),u(e(w),b({class:"grid-col-xs-24",modelValue:e(t).address,"onUpdate:modelValue":l[2]||(l[2]=o=>e(t).address=o)},e(a).address),null,16,["modelValue"])]))}}),ye=U(be,[["__scopeId","data-v-9fc01a63"]]),De={class:"update grid-row"},we=L({__name:"UpdateModal",props:{data:{type:Object,required:!0}},setup(n,{expose:r}){const{columns:a,forms:t,validate:d}=I(A,"form"),f=n;return z(()=>{const{name:o=null,date:i=null,address:c=null}=f.data;t.name=o,t.date=i,t.address=c}),r({submit:async()=>await d().then(async()=>await ge(t)>0?"success":"error").catch(i=>{const c=i.find(C=>C.el!==null);if(c){const C=c.getDom();q(C)}return"error"})}),(o,i)=>(E(),P("div",De,[u(e(w),b({class:"grid-col-xs-24 grid-col-md-12",modelValue:e(t).name,"onUpdate:modelValue":i[0]||(i[0]=c=>e(t).name=c)},e(a).name),null,16,["modelValue"]),u(e(w),b({class:"grid-col-xs-24 grid-col-md-12",modelValue:e(t).date,"onUpdate:modelValue":i[1]||(i[1]=c=>e(t).date=c)},e(a).date),null,16,["modelValue"]),u(e(w),b({class:"grid-col-md-24",modelValue:e(t).address,"onUpdate:modelValue":i[2]||(i[2]=c=>e(t).address=c)},e(a).address),null,16,["modelValue"])]))}}),Ce=U(we,[["__scopeId","data-v-7cde30ab"]]),_e={class:"page"},ke={class:"flex-row content-between"},Ve=["onClick"],xe=L({__name:"Nav1-1-1",setup(n){const r=re("useHook"),{i18nTranslate:a,swal:t,loading:d,eventList:f,permission:l}=r(),o=v(ee(ae));le(()=>{o.value=l("nav1-1-1")});const i=ie([]),c=v(0),C={title:a("testTable"),version:"1.0.0",settingKey:"nav1-1-1",isSorting:!0},{tableSetting:H,downloadExcel:K,getParams:T}=se(A,"table",C),W=async({type:m})=>{let s=[];const _=j({...T(M.value)},p=>p!==null);switch(m){case"all":s=await ue(_);break;case"page":s=i.value;break}K(s)},S=v(null),h=v(null),g=de({create:!1,update:!1}),F=v({}),J=async()=>{S.value&&await S.value.submit()==="success"&&(g.create=!1,D())},Q=async()=>{var m;h.value&&await((m=h.value)==null?void 0:m.submit())==="success"&&(g.update=!1,D())},G=(m,s)=>{f(m,[{icon:["fas","edit"],label:a("update"),event:()=>{g.update=!0,F.value=s}},{icon:["fas","trash"],label:a("delete"),event:()=>{X(s)}}])},X=m=>{t({icon:"warning",title:`確定刪除 ${m.name}`}).then(async s=>{s.isConfirmed&&(d(!0,"刪除資料中"),await pe(m),t({icon:"success",title:"刪除成功",showCancelButton:!1}),D(),d(!1))})},M=v(null),N=v(!1),D=async m=>{N.value=!0;let s={};typeof m=="object"&&(s=j({...T(M.value)},V=>V!==null));const[_,p]=await Promise.all([ce(s),me()]);i.value=_,c.value=p,N.value=!1};return z(()=>{D()}),(m,s)=>{const _=Z;return ne((E(),P("div",_e,[u(e(R),{modelValue:g.create,"onUpdate:modelValue":s[0]||(s[0]=p=>g.create=p),"height-size":"small",title:e(a)("create"),onSubmit:J},{default:x(()=>[u(ye,{ref_key:"createRef",ref:S},null,512)]),_:1},8,["modelValue","title"]),u(e(oe),b({ref:"table","table-data":i.value,"table-data-count":c.value},e(H),{title:e(a)("testTable"),onExcel:W,onShowChange:D,onRowContextmenu:s[3]||(s[3]=(p,V,Y)=>{G(Y,p)})}),{prepend:x(()=>[B("div",ke,[u(e($),{type:"primary",label:e(a)("create"),"icon-name":"plus","icon-move":"scale",disabled:!o.value.create,onClick:s[1]||(s[1]=p=>g.create=!0)},null,8,["label","disabled"]),u(e($),{label:e(a)("refresh"),"icon-name":"rotate","icon-move":"rotate",onClick:s[2]||(s[2]=p=>D())},null,8,["label"])])]),"column-operations":x(p=>[B("div",{class:"flex-row content-center cursor-pointer",onClick:V=>G(V,p.row)},[u(e(te),{name:"ellipsis-vertical"})],8,Ve)]),_:1},16,["table-data","table-data-count","title"]),u(e(R),{modelValue:g.update,"onUpdate:modelValue":s[4]||(s[4]=p=>g.update=p),title:e(a)("update"),onSubmit:Q},{default:x(()=>[u(Ce,{ref_key:"updateRef",ref:h,data:F.value},null,8,["data"])]),_:1},8,["modelValue","title"])])),[[_,N.value]])}}}),Mt=U(xe,[["__scopeId","data-v-bf92db8d"]]);export{Mt as default};
